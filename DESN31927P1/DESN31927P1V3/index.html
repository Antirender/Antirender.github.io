<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Weather Advisor ‚Äî Dynamic Data Demo</title>
  <link rel="icon" href="img/favicon.ico" />
  <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
  <link rel="stylesheet" href="styles.css" />
  <!-- Chart.js for a simple responsive line+bar combo chart -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.3/dist/chart.umd.min.js" defer></script>
  <script src="app.js" defer></script>
</head>
<body>
  <header class="site-header">
    <div class="header-row">
      <button id="nav-toggle" class="hamburger" aria-label="Open menu" aria-expanded="false">
        <span></span><span></span><span></span>
      </button>

      <div class="brand">
        <img src="img/favicon.ico" alt="" class="logo">
        <strong class="brand-title">Weather Advisor</strong>
      </div>

      <form id="search-form" class="search desktop-only">
        <input id="q" type="search" placeholder="Search city (e.g., Toronto, ON)">
        <button id="btn-search" class="btn" type="submit">Search</button>
        <button id="btn-locate" class="btn btn-secondary" type="button">Use my location</button>
        <button id="theme-toggle" class="btn btn-secondary" type="button">Dark</button>
      </form>
    </div>

    <nav id="drawer" class="drawer">
      <div class="mobile-actions">
        <div class="mobile-action-buttons">
          <button id="mobile-search-btn" class="btn btn-secondary">Search</button>
          <button id="mobile-btn-locate" class="btn btn-secondary">Use my location</button>
          <button id="mobile-theme-toggle" class="btn btn-secondary">Dark</button>
        </div>
        
        <div id="mobile-search-container" class="mobile-search-container" style="display: none;">
          <form id="mobile-search-form" class="search">
            <input id="mobile-q" type="search" placeholder="Search city (e.g., Toronto, ON)">
            <button id="mobile-btn-search" class="btn" type="submit">Search</button>
          </form>
        </div>
      </div>
      
      <ul class="mobile-nav-links">
        <li><a href="#summary">Summary</a></li>
        <li><a href="#chart">24-Hour Forecast</a></li>
        <li><a href="#advice">Outfit & Safety</a></li>
        <li><a href="#hourly">Hourly Details</a></li>
      </ul>
      
      <!-- Close button for drawer -->
      <button id="drawer-close" class="drawer-close" aria-label="Close menu">‚úï</button>
    </nav>
  </header>

<main class="container">
  <!-- Â∑¶ÂàóÔºöSummary -->
  <section id="summary" class="card">
    <h2 class="card-title">Current Conditions</h2>
    <div class="grid-2">
      <div>
        <p class="k">City</p><p id="city-name" class="v">‚Äî</p>
        <p class="k">UV</p><p id="uv-now" class="v">‚Äî</p>
      </div>
      <div>
        <p class="k">Now (feels like)</p><p id="app-now" class="v v-orange">‚Äî</p>
        <p class="k">Wind</p><p id="wind-now" class="v v-green">‚Äî</p>
      </div>
      <div>
        <p class="k">Rain chance</p><p id="pop-now" class="v v-blue">‚Äî</p>
      </div>
      <div>
        <p class="k">Next 6h (min‚Äìmax)</p><p id="next6-range" class="v">‚Äî</p>
      </div>
    </div>
    <div id="summary-badges" class="badges"></div>
    <p id="summary-text" class="muted">‚Äî</p>
  </section>

  <!-- Âè≥ÂàóÔºöFavorites + About -->
  <aside class="right-col">
    <section class="card favorites">
      <h3 class="card-title">Favorites</h3>
      <form id="fav-form" class="fav-form">
        <input id="fav-alias" type="text" placeholder="Alias (optional)">
        <button id="fav-add" type="button" class="btn btn-secondary">Add current</button>
      </form>
      <ul id="fav-list" class="fav-list" aria-label="Saved cities"></ul>
    </section>
    
    <section id="weather-alerts" class="card alerts-card">
      <h3 class="card-title">Weather Alerts</h3>
      <div id="alerts-container">
        <p class="no-alerts-message">No active weather alerts for this location.</p>
        <!-- Alert items will be inserted here dynamically -->
      </div>
    </section>

    <article class="card">
      <h3 class="card-title">About this App</h3>
      <p>This project retrieves live weather and location data from open third-party APIs. It performs lightweight data transformations and uses a rule-based expert system to generate clear outfit & safety advice. No LLMs; all logic runs locally.</p>

      <h4 class="card-subtitle">How to Use</h4>
      <ul class="bullets">
        <li>Search a city or tap <strong>Use my location</strong>.</li>
        <li>Read the current conditions and alert badges.</li>
        <li>Switch <strong>24h / 12h / 6h</strong> to explore the forecast.</li>
        <li>Check the <strong>Outfit & Safety</strong> panel for tips.</li>
        <li>Save cities to <strong>Favorites</strong> for quick access.</li>
      </ul>
    </article>
  </aside>

  <!-- ÂõæË°® -->
  <section id="chart" class="card">
    <div class="card-header">
      <h2 class="card-title">24-Hour Forecast</h2>
      <div class="controls">
        <label>Horizon
          <select id="horizon-select">
            <option value="24h" selected>24h</option>
            <option value="48h">48h</option>
            <option value="12h">12h</option>
            <option value="6h">6h</option>
          </select>
        </label>
        <label class="ctrl"><input id="toggle-pop" type="checkbox" checked> Show rain chance</label>
      </div>
    </div>
    <div class="chart-wrap"><canvas id="forecast-chart" height="320"></canvas></div>
    <p class="muted">Red line: <b>Feels like (¬∞C)</b>. Blue bars: <b>Rain chance (%)</b>.</p>
  </section>

  <!-- Êñ∞ÂàÜÂå∫ÔºöAdviceÔºàËßÑÂàô/‰∏ìÂÆ∂Á≥ªÁªüËæìÂá∫Ôºâ -->
  <section id="advice" class="card">
    <div class="advice-header">
      <h2 class="card-title">Outfit & Safety Advice</h2>
      <p class="advice-subtitle">Based on the next 6 hours of weather conditions</p>
    </div>
    
    <div class="advice-content">
      <div class="advice-left-column">
        <div id="advice-tags" class="badges badges-row"></div>
        
        <div class="advice-main-text">
          <h3>Weather conditions for the next 6 hours:</h3>
          <div id="advice-text" class="advice-text">Loading recommendations...</div>
        </div>
      </div>

      <div class="advice-cards">
        <article class="mini-card wear-card">
          <div class="chip chip-amber">RECOMMENDED</div>
          <h3 class="mini-title">WHAT TO WEAR</h3>
          <p id="wear-text">‚Äî</p>
        </article>
        
        <article class="mini-card tips-card">
          <div class="chip chip-green">TIP</div>
          <h3 class="mini-title">COMFORT TIPS</h3>
          <p id="comfort-text">‚Äî</p>
        </article>
      </div>

      <div class="stats-row">
        <div class="stat"><span>üå°Ô∏è</span><b id="stat-range">‚Äî</b></div>
        <div class="stat"><span>üåßÔ∏è</span><b id="stat-pop">‚Äî</b></div>
        <div class="stat"><span>‚òÄÔ∏è</span><b id="stat-uv">‚Äî</b></div>
        <div class="stat"><span>üí®</span><b id="stat-wind">‚Äî</b></div>
      </div>
    </div>
  </section>

  <!-- Hourly ËØ¶ÊÉÖ - Êîπ‰∏∫‰∏ãÊãâËèúÂçïÂΩ¢Âºè -->
  <section id="hourly" class="card">
    <details class="hourly-dropdown">
      <summary class="hourly-summary">
        <h2 class="card-title">Hourly Details</h2>
        <span class="dropdown-arrow">‚ñº</span>
      </summary>
      <div id="hourly-grid" class="hourly-grid"></div>
    </details>
  </section>
</main>

<footer class="site-footer">
  <small>¬© 2025 Weather Advisor | Data sources: <a href="https://open-meteo.com/en/docs" target="_blank" class="footer-link">Open-Meteo API</a>, <a href="https://nominatim.org/release-docs/latest/" target="_blank" class="footer-link">OpenStreetMap Nominatim</a>, <a href="https://openweathermap.org/api/one-call-3" target="_blank" class="footer-link">OpenWeatherMap</a> | <a href="/terms" class="footer-link">Terms</a> | <a href="/privacy" class="footer-link">Privacy</a></small>
</footer>
</body>
</html>