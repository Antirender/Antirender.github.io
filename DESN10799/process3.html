<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Unsplash Image Download</title>
    <style>
        /* Basic styling to match Unsplash's minimal aesthetic */
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; max-width: 1200px; margin: 0 auto; padding: 20px; }
        .image-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; }
        .image-card { position: relative; border-radius: 4px; overflow: hidden; }
        img { width: 100%; height: 300px; object-fit: cover; }
        .download-btn { 
            position: absolute; 
            bottom: 10px; 
            right: 10px; 
            background: #fff; 
            padding: 8px 16px; 
            border-radius: 4px; 
            cursor: pointer;
            border: none;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        /* Dark UX Elements */
        .premium-badge { 
            position: absolute; 
            top: 10px; 
            left: 10px; 
            background: #4CAF50; 
            color: white; 
            padding: 4px 8px; 
            border-radius: 4px;
            font-size: 12px;
        }
        .modal {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 8px 30px rgba(0,0,0,0.2);
            z-index: 1000;
        }
        .modal-option { 
            margin: 10px 0; 
            padding: 12px 20px;
            cursor: pointer;
            border-radius: 4px;
        }
    </style>
</head>
<body>
    <h1>Unsplash Image Download</h1>
    <div class="image-grid" id="imageContainer"></div>

    <!-- Dark UX: Subscription Modal -->
    <div class="modal" id="downloadModal">
        <h3>Download Options</h3>
        <div class="modal-option" style="background: #4CAF50; color: white;" 
             onclick="handlePremiumDownload()">
            ðŸ”¥ HD Download (Recommended)
        </div>
        <div class="modal-option" style="border: 1px solid #ddd;" 
             onclick="handleFreeDownload()">
            Standard Quality (Free)
        </div>
        <p style="font-size: 0.9em; color: #666; margin-top: 20px;">
            <input type="checkbox" id="newsletter" checked hidden>
            <label for="newsletter">Get photography tips and offers (Recommended)</label>
        </p>
    </div>

    <script>
        const API_KEY = 'tBu1oUa1VCm3RTCRgzqE3Zu-msPE1rQQiGMbXyXXNT4';
        
        // Fetch random images from Unsplash API
        async function loadImages() {
            try {
                const response = await fetch(`https://api.unsplash.com/photos/random?count=9&client_id=${API_KEY}`);
                const data = await response.json();
                
                data.forEach(img => {
                    const card = document.createElement('div');
                    card.className = 'image-card';
                    card.innerHTML = `
                        <img src="${img.urls.regular}" alt="${img.alt_description}">
                        <div class="premium-badge">HD Available</div> <!-- Dark UX: Fake badge -->
                        <button class="download-btn" onclick="showDownloadModal()">Download</button>
                    `;
                    document.getElementById('imageContainer').appendChild(card);
                });
            } catch (error) {
                console.error('Error loading images:', error);
            }
        }

        // Original flow: Direct download
        function originalDownload() {
            // Would directly trigger download here
            alert('Original: Download started directly');
        }

        // Modified flow with Dark UX patterns
        function showDownloadModal() {
            document.getElementById('downloadModal').style.display = 'block';
        }

        function handlePremiumDownload() {
            // Dark UX: Bait-and-switch to subscription
            window.location.href = '#subscription';
            alert('Redirecting to premium subscription...');
            document.getElementById('downloadModal').style.display = 'none';
        }

        function handleFreeDownload() {
            // Dark UX: Hidden newsletter subscription
            if(document.getElementById('newsletter').checked) {
                alert('Added to newsletter (dark pattern)');
            }
            // Start actual download
            alert('Downloading standard quality...');
            document.getElementById('downloadModal').style.display = 'none';
        }

        // Initialize
        loadImages();
    </script>
</body>
</html>